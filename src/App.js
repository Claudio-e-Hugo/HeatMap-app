import React from 'react';
import {
    MapContainer,
    Polygon,
    Polyline,
    TileLayer
} from 'react-leaflet';
import 'leaflet/dist/leaflet.css'
import './App.css';
import { render } from '@testing-library/react';
import HandleCSV from './components/HandleCSV';
import { LineUtil, polyline } from 'leaflet';

const center = [40.6464534, -8.6536617];

// const coords = [
//     {lat: 40.6464534, lng: -8.6536617},
//     {lat: 40.6451034, lng: -8.6561168},
//     {lat: 40.6464534, lng: -8.6536617},
//     {lat: 40.6411968, lng: -8.6540312},
//     {lat: 40.6411968, lng: -8.6540312},
//     {lat: 40.6352864, lng: -8.6559541},
// ];

const json_coords = [
    "{lat: 40.6435537, lng: -8.6586607}",
    "{lat: 40.6443351, lng: -8.6573925}",
    "{lat: 40.6451034, lng: -8.6561168}",
    "{lat: 40.6457974, lng: -8.6548965}",
    "{lat: 40.6464534, lng: -8.6536617}",
    "{lat: 40.6479239, lng: -8.6507384}",
    "{lat: 40.6405709, lng: -8.6468557}",
    "{lat: 40.6405725, lng: -8.6468158}",
    "{lat: 40.6405709, lng: -8.6468557}",
    "{lat: 40.6405818, lng: -8.6469072}",
    "{lat: 40.640667, lng: -8.6466505}",
    "{lat: 40.6408377, lng: -8.6464759}",
    "{lat: 40.640667, lng: -8.6466505}",
    "{lat: 40.6406394, lng: -8.6466814}",
    "{lat: 40.6411237, lng: -8.6457388}",
    "{lat: 40.6410789, lng: -8.6455138}",
    "{lat: 40.6411237, lng: -8.6457388}"
];

// const coords = [
//     [40.6435537, -8.6586607],
//     [40.6443351, -8.6573925],
//     [40.6451034, -8.6561168],
//     [40.6457974, -8.6548965],
//     [40.6464534, -8.6536617],
//     [40.6479239, -8.6507384]
// ];

const coords1 = [
    [40.6405709, -8.6469072],
    [40.6405818, -8.6466505],
    [40.640667, -8.6466505],
    [40.6408377, -8.6464759],
    [40.640667, -8.6466505],
    [40.6406394, -8.6466814],
    [40.6411237, -8.6457388],
    [40.6410789, -8.6455138],
    [40.6411237, -8.6457388],
    [40.64112, -8.6459459],
    [40.6405626, -8.6443263],
    [40.6405165, -8.6442243],
    [40.6405626, -8.6443263],
    [40.6408281, -8.6449418],
    [40.6405626, -8.6443263]
];


const coords = {
    "Rua Jos\u00e9 Afonso": [
        [
            40.6405709,
            -8.6468557
        ],
        [
            40.6405725,
            -8.6468158
        ],
        [
            40.640667,
            -8.6466505
        ],
        [
            40.6408377,
            -8.6464759
        ],
        [
            40.640667,
            -8.6466505
        ],
        [
            40.6406394,
            -8.6466814
        ],
        [
            40.6411237,
            -8.6457388
        ],
        [
            40.6410789,
            -8.6455138
        ],
        [
            40.6411237,
            -8.6457388
        ],
        [
            40.64112,
            -8.6459459
        ],
        [
            40.6405626,
            -8.6443263
        ],
        [
            40.6405165,
            -8.6442243
        ],
        [
            40.6405626,
            -8.6443263
        ],
        [
            40.6408281,
            -8.6449418
        ],
        [
            40.6400499,
            -8.6431917
        ],
        [
            40.6400731,
            -8.6432441
        ],
        [
            40.64112,
            -8.6459459
        ],
        [
            40.6411237,
            -8.6457388
        ],
        [
            40.64112,
            -8.6459459
        ],
        [
            40.6411113,
            -8.6460005
        ],
        [
            40.6410675,
            -8.6461414
        ],
        [
            40.6410907,
            -8.6460747
        ],
        [
            40.6410675,
            -8.6461414
        ],
        [
            40.6409788,
            -8.646323
        ],
        [
            40.6409788,
            -8.646323
        ],
        [
            40.6410675,
            -8.6461414
        ],
        [
            40.6409788,
            -8.646323
        ],
        [
            40.6408377,
            -8.6464759
        ],
        [
            40.6408972,
            -8.6450991
        ],
        [
            40.6408281,
            -8.6449418
        ],
        [
            40.6408972,
            -8.6450991
        ],
        [
            40.6410789,
            -8.6455138
        ],
        [
            40.6410789,
            -8.6455138
        ],
        [
            40.6408972,
            -8.6450991
        ],
        [
            40.6410789,
            -8.6455138
        ],
        [
            40.6411237,
            -8.6457388
        ],
        [
            40.6408377,
            -8.6464759
        ],
        [
            40.6409788,
            -8.646323
        ],
        [
            40.6408377,
            -8.6464759
        ],
        [
            40.640667,
            -8.6466505
        ],
        [
            40.6408281,
            -8.6449418
        ],
        [
            40.6405626,
            -8.6443263
        ],
        [
            40.6408281,
            -8.6449418
        ],
        [
            40.6408972,
            -8.6450991
        ],
        [
            40.6406394,
            -8.6466814
        ],
        [
            40.640667,
            -8.6466505
        ],
        [
            40.6406394,
            -8.6466814
        ],
        [
            40.6405893,
            -8.6467634
        ],
        [
            40.6405893,
            -8.6467634
        ],
        [
            40.6406394,
            -8.6466814
        ],
        [
            40.6405893,
            -8.6467634
        ],
        [
            40.6405725,
            -8.6468158
        ],
        [
            40.6400731,
            -8.6432441
        ],
        [
            40.6400499,
            -8.6431917
        ],
        [
            40.6400731,
            -8.6432441
        ],
        [
            40.6401143,
            -8.6433351
        ],
        [
            40.6410907,
            -8.6460747
        ],
        [
            40.6411113,
            -8.6460005
        ],
        [
            40.6410907,
            -8.6460747
        ],
        [
            40.6410675,
            -8.6461414
        ],
        [
            40.6411113,
            -8.6460005
        ],
        [
            40.64112,
            -8.6459459
        ],
        [
            40.6411113,
            -8.6460005
        ],
        [
            40.6410907,
            -8.6460747
        ],
        [
            40.6405165,
            -8.6442243
        ],
        [
            40.6401143,
            -8.6433351
        ],
        [
            40.6405165,
            -8.6442243
        ],
        [
            40.6405626,
            -8.6443263
        ],
        [
            40.6405725,
            -8.6468158
        ],
        [
            40.6405893,
            -8.6467634
        ],
        [
            40.6405725,
            -8.6468158
        ],
        [
            40.6405709,
            -8.6468557
        ],
        [
            40.6401143,
            -8.6433351
        ],
        [
            40.6400731,
            -8.6432441
        ],
        [
            40.6401143,
            -8.6433351
        ],
        [
            40.6405165,
            -8.6442243
        ]
    ]
}




export default function App() {
    // parseJson();
    print();

    return (
        <div>
            <HandleCSV fileName="src/components/csvFiles/lines.csv"/>
            <MapContainer
                center={center}
                zoom={17}
                style={{width: '100vw', height: '100vh'}}
                >
                <TileLayer
                    url='https://api.maptiler.com/maps/basic-v2/256/{z}/{x}/{y}.png?key=GCrdp2KFceg0vK7Ifepx'
                    attribution='<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'
                    />
            {/* <Polyline color={"green"} positions={coords}/> */}
            {/* <Polyline color={"red"} positions={coords1}/> */}
            {
                Object.keys(coords).map((line) => {
                    return(
                        <Polyline color={"red"} positions={coords[line]}></Polyline>
                    );
                })

            }
            </MapContainer>

        </div>
    );
    
}

function print() {
    Object.keys(coords).map((line) => {
        console.log(line);
    })
}